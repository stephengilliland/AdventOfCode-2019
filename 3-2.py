
wire1 = ["R",1008,"D",256,"L",88,"U",390,"R",429,"D",828,"R",2,"D",452,"L",644,"D",942,"R",387,"U",221,"L",274,"D",837,"R",437,"U",664,"R",952,"U",126,"L",840,"U",425,"L",749,"D",199,"L",48,"U",394,"L",623,"D",562,"L",760,"D",856,"L",648,"U",666,"R",756,"U",396,"L",588,"U",217,"R",208,"D",492,"L",230,"U",60,"L",178,"D",211,"L",806,"U",423,"L",399,"D",159,"L",176,"D",555,"R",173,"D",946,"L",360,"U",415,"L",734,"D",441,"L",146,"D",332,"R",135,"D",529,"L",364,"U",742,"L",862,"D",790,"L",399,"D",392,"R",706,"D",740,"L",839,"D",950,"R",822,"D",27,"R",108,"D",873,"L",492,"D",465,"L",635,"U",771,"L",586,"U",66,"R",703,"U",943,"R",141,"U",396,"R",641,"D",339,"R",460,"U",295,"L",397,"U",799,"R",479,"U",963,"L",211,"U",933,"R",158,"U",248,"R",443,"U",807,"R",115,"U",885,"R",670,"U",116,"L",24,"D",980,"R",349,"U",363,"L",413,"U",444,"L",453,"D",497,"L",202,"U",300,"L",122,"D",895,"L",210,"U",218,"R",456,"U",293,"L",576,"U",968,"L",612,"D",225,"L",732,"D",34,"R",800,"U",925,"R",731,"U",520,"R",686,"D",181,"L",102,"D",824,"R",832,"D",527,"L",614,"D",624,"R",734,"U",552,"L",911,"D",352,"R",157,"D",70,"R",958,"U",317,"L",43,"U",902,"R",265,"U",986,"R",305,"U",264,"L",957,"U",888,"R",66,"D",413,"L",73,"D",642,"R",14,"D",559,"R",414,"D",985,"R",679,"D",965,"R",333,"D",332,"L",261,"D",446,"L",479,"U",430,"L",730,"D",37,"L",936,"D",615,"L",344,"D",215,"R",912,"D",95,"L",691,"U",383,"L",328,"U",560,"R",806,"U",711,"R",515,"U",448,"R",403,"D",109,"L",589,"U",458,"L",240,"D",375,"L",88,"D",479,"R",93,"U",794,"L",303,"U",783,"L",833,"U",500,"R",406,"D",589,"L",694,"U",504,"L",484,"U",695,"R",228,"U",813,"R",646,"U",768,"L",60,"D",326,"L",580,"U",840,"L",387,"U",147,"L",50,"U",155,"L",454,"D",574,"L",885,"D",705,"R",727,"D",827,"R",409,"U",335,"L",271,"D",388,"R",897,"D",563,"L",360,"U",70,"R",777,"U",903,"R",363,"D",202,"R",855,"D",159,"R",35,"U",585,"L",384,"D",540,"R",78,"U",13,"R",979,"D",702,"L",868,"D",868,"R",508,"D",552,"L",735,"U",923,"R",840,"U",133,"L",355,"U",282,"R",626,"D",699,"L",560,"D",26,"R",902,"D",873,"L",333,"U",492,"L",96,"U",461,"R",261,"U",784,"L",793,"D",723,"R",887,"U",836,"R",790,"D",400,"L",331,"U",389,"L",107,"U",534,"L",377,"D",831,"R",181,"U",325,"L",328,"U",778,"L",498,"D",109,"L",692,"U",185,"R",284,"U",930,"R",784,"D",843,"L",261,"U",119,"L",751,"U",313,"R",197,"U",911,"L",21,"D",201,"L",881,"U",119,"R",210,"D",700,"R",93,"U",208,"R",116]
wire2 = ["L",1009,"D",700,"L",634,"U",294,"R",898,"D",947,"R",650,"U",988,"L",623,"D",968,"R",761,"U",490,"R",525,"U",76,"R",633,"D",139,"R",348,"D",855,"L",983,"U",553,"L",454,"D",211,"L",240,"D",465,"R",260,"U",285,"R",653,"D",734,"L",346,"U",434,"R",813,"U",599,"R",98,"D",779,"L",58,"D",6,"R",309,"U",437,"L",712,"U",896,"R",262,"U",911,"R",400,"D",247,"R",297,"U",915,"L",223,"D",591,"L",755,"D",398,"L",980,"U",177,"R",186,"U",882,"R",418,"U",763,"L",741,"D",60,"L",942,"U",648,"L",430,"D",401,"R",30,"D",157,"L",901,"D",179,"L",615,"U",535,"L",586,"D",613,"L",606,"U",239,"L",133,"D",251,"L",549,"D",579,"R",612,"U",307,"L",127,"D",343,"L",43,"D",288,"R",245,"U",122,"R",352,"D",527,"R",476,"U",24,"L",805,"U",291,"R",953,"D",469,"L",941,"U",577,"L",384,"U",345,"L",463,"D",50,"R",311,"D",649,"L",746,"D",902,"R",644,"U",913,"R",147,"D",649,"R",848,"D",673,"R",93,"U",65,"R",363,"U",734,"L",289,"U",599,"R",738,"U",45,"R",128,"D",508,"L",93,"D",201,"R",51,"U",239,"R",17,"D",496,"L",661,"D",912,"R",165,"U",291,"L",207,"D",308,"R",241,"D",388,"L",910,"D",821,"R",714,"D",327,"L",605,"U",880,"L",682,"D",934,"R",334,"D",1,"R",602,"D",54,"L",51,"D",913,"L",575,"U",168,"R",614,"D",603,"R",452,"U",718,"R",689,"D",505,"R",83,"D",385,"R",636,"D",692,"R",424,"D",573,"R",686,"D",572,"L",467,"D",698,"L",21,"U",510,"L",497,"U",329,"R",286,"U",733,"R",584,"U",919,"R",499,"U",971,"L",558,"U",511,"L",565,"D",623,"L",502,"U",536,"L",483,"U",372,"L",686,"D",420,"L",900,"U",316,"L",37,"U",372,"L",915,"D",641,"R",165,"D",927,"L",137,"U",231,"R",813,"U",416,"L",131,"D",530,"R",486,"U",795,"L",507,"U",757,"L",208,"U",308,"L",521,"U",583,"L",758,"U",654,"R",554,"D",467,"R",381,"U",155,"R",47,"U",829,"R",92,"D",158,"R",54,"D",500,"R",17,"D",471,"R",748,"U",571,"L",194,"D",55,"L",921,"U",271,"L",730,"U",207,"L",204,"U",806,"R",19,"D",33,"R",218,"D",911,"L",106,"U",220,"R",551,"U",308,"L",268,"U",5,"L",374,"U",657,"R",639,"U",705,"R",294,"U",962,"L",927,"U",892,"L",477,"U",290,"R",378,"D",193,"L",154,"U",859,"L",618,"D",690,"L",769,"D",779,"R",752,"D",915,"L",693,"D",586,"L",558,"D",864,"L",523,"U",354,"R",386,"U",236,"R",888,"U",302,"L",75,"U",628,"R",132,"D",306,"L",939,"U",73,"L",687,"D",488,"R",21,"D",760,"L",856,"U",96,"L",116,"U",557,"L",639,"U",812,"L",389,"D",364,"L",807,"U",696,"R",781,"D",625,"R",565,"U",728,"R",134,"D",406,"R",785,"U",583,"R",60,"D",819,"L",939]

currX = 0
currY = 0
closeX = 99999
closeY = 99999
smallest = 9999999
spots = {}
spots[(currX,currY)] = 1


for x in range(0, len(wire1), 2):

    if wire1[x] == "R":
        for r in range(wire1[x+1]):
            currX += 1
            if (currX, currY) not in spots:
                spots[(currX,currY)] = 1


    elif wire1[x] == "L":
        for r in range(wire1[x+1]):
            currX -= 1
            if (currX, currY) not in spots:
                spots[(currX,currY)] = 1 


    elif wire1[x] == "U":
        for r in range(wire1[x+1]):
            currY += 1
            if (currX, currY) not in spots:
                spots[(currX,currY)] = 1


    elif wire1[x] == "D":
        for r in range(wire1[x+1]):
            currY -= 1
            if (currX, currY) not in spots:
                spots[(currX,currY)] = 1


currX = 0
currY = 0
ints = {}
for x in range(0, len(wire2), 2):

    if wire2[x] == "R":
        for r in range(wire2[x+1]):
            currX += 1
            if (currX, currY) in spots:
                spots[(currX,currY)] += 1
                if spots[(currX,currY)] == 2 and abs(currX) + abs(currY) < smallest:
                    smallest = abs(currX) + abs(currY)
                if spots[(currX,currY)] == 2:
                    ints[(currX,currY)] = 2



    elif wire2[x] == "L":
        for r in range(wire2[x+1]):
            currX -= 1
            if (currX, currY) in spots:
                spots[(currX,currY)] += 1
                if spots[(currX,currY)] == 2 and abs(currX) + abs(currY) < smallest:
                    smallest = abs(currX) + abs(currY)
                if spots[(currX,currY)] == 2:
                    ints[(currX,currY)] = 2


    elif wire2[x] == "U":
        for r in range(wire2[x+1]):
            currY += 1
            if (currX, currY) in spots:
                spots[(currX,currY)] += 1
                if spots[(currX,currY)] == 2 and abs(currX) + abs(currY) < smallest:
                    smallest = abs(currX) + abs(currY)
                if spots[(currX,currY)] == 2:
                    ints[(currX,currY)] = 2


    elif wire2[x] == "D":
        for r in range(wire2[x+1]):
            currY -= 1
            if (currX, currY) in spots:
                spots[(currX,currY)] += 1
                if spots[(currX,currY)] == 2 and abs(currX) + abs(currY) < smallest:
                    smallest = abs(currX) + abs(currY)
                if spots[(currX,currY)] == 2:
                    ints[(currX,currY)] = 2
                

print(smallest)

currX = 0
currY = 0
intX = 0
intY = 0
found = False
foundList1 = []
foundList2 = []
steps = 0
wire1 = ["R",1008,"D",256,"L",88,"U",390,"R",429,"D",828,"R",2,"D",452,"L",644,"D",942,"R",387,"U",221,"L",274,"D",837,"R",437,"U",664,"R",952,"U",126,"L",840,"U",425,"L",749,"D",199,"L",48,"U",394,"L",623,"D",562,"L",760,"D",856,"L",648,"U",666,"R",756,"U",396,"L",588,"U",217,"R",208,"D",492,"L",230,"U",60,"L",178,"D",211,"L",806,"U",423,"L",399,"D",159,"L",176,"D",555,"R",173,"D",946,"L",360,"U",415,"L",734,"D",441,"L",146,"D",332,"R",135,"D",529,"L",364,"U",742,"L",862,"D",790,"L",399,"D",392,"R",706,"D",740,"L",839,"D",950,"R",822,"D",27,"R",108,"D",873,"L",492,"D",465,"L",635,"U",771,"L",586,"U",66,"R",703,"U",943,"R",141,"U",396,"R",641,"D",339,"R",460,"U",295,"L",397,"U",799,"R",479,"U",963,"L",211,"U",933,"R",158,"U",248,"R",443,"U",807,"R",115,"U",885,"R",670,"U",116,"L",24,"D",980,"R",349,"U",363,"L",413,"U",444,"L",453,"D",497,"L",202,"U",300,"L",122,"D",895,"L",210,"U",218,"R",456,"U",293,"L",576,"U",968,"L",612,"D",225,"L",732,"D",34,"R",800,"U",925,"R",731,"U",520,"R",686,"D",181,"L",102,"D",824,"R",832,"D",527,"L",614,"D",624,"R",734,"U",552,"L",911,"D",352,"R",157,"D",70,"R",958,"U",317,"L",43,"U",902,"R",265,"U",986,"R",305,"U",264,"L",957,"U",888,"R",66,"D",413,"L",73,"D",642,"R",14,"D",559,"R",414,"D",985,"R",679,"D",965,"R",333,"D",332,"L",261,"D",446,"L",479,"U",430,"L",730,"D",37,"L",936,"D",615,"L",344,"D",215,"R",912,"D",95,"L",691,"U",383,"L",328,"U",560,"R",806,"U",711,"R",515,"U",448,"R",403,"D",109,"L",589,"U",458,"L",240,"D",375,"L",88,"D",479,"R",93,"U",794,"L",303,"U",783,"L",833,"U",500,"R",406,"D",589,"L",694,"U",504,"L",484,"U",695,"R",228,"U",813,"R",646,"U",768,"L",60,"D",326,"L",580,"U",840,"L",387,"U",147,"L",50,"U",155,"L",454,"D",574,"L",885,"D",705,"R",727,"D",827,"R",409,"U",335,"L",271,"D",388,"R",897,"D",563,"L",360,"U",70,"R",777,"U",903,"R",363,"D",202,"R",855,"D",159,"R",35,"U",585,"L",384,"D",540,"R",78,"U",13,"R",979,"D",702,"L",868,"D",868,"R",508,"D",552,"L",735,"U",923,"R",840,"U",133,"L",355,"U",282,"R",626,"D",699,"L",560,"D",26,"R",902,"D",873,"L",333,"U",492,"L",96,"U",461,"R",261,"U",784,"L",793,"D",723,"R",887,"U",836,"R",790,"D",400,"L",331,"U",389,"L",107,"U",534,"L",377,"D",831,"R",181,"U",325,"L",328,"U",778,"L",498,"D",109,"L",692,"U",185,"R",284,"U",930,"R",784,"D",843,"L",261,"U",119,"L",751,"U",313,"R",197,"U",911,"L",21,"D",201,"L",881,"U",119,"R",210,"D",700,"R",93,"U",208,"R",116]
wire2 = ["L",1009,"D",700,"L",634,"U",294,"R",898,"D",947,"R",650,"U",988,"L",623,"D",968,"R",761,"U",490,"R",525,"U",76,"R",633,"D",139,"R",348,"D",855,"L",983,"U",553,"L",454,"D",211,"L",240,"D",465,"R",260,"U",285,"R",653,"D",734,"L",346,"U",434,"R",813,"U",599,"R",98,"D",779,"L",58,"D",6,"R",309,"U",437,"L",712,"U",896,"R",262,"U",911,"R",400,"D",247,"R",297,"U",915,"L",223,"D",591,"L",755,"D",398,"L",980,"U",177,"R",186,"U",882,"R",418,"U",763,"L",741,"D",60,"L",942,"U",648,"L",430,"D",401,"R",30,"D",157,"L",901,"D",179,"L",615,"U",535,"L",586,"D",613,"L",606,"U",239,"L",133,"D",251,"L",549,"D",579,"R",612,"U",307,"L",127,"D",343,"L",43,"D",288,"R",245,"U",122,"R",352,"D",527,"R",476,"U",24,"L",805,"U",291,"R",953,"D",469,"L",941,"U",577,"L",384,"U",345,"L",463,"D",50,"R",311,"D",649,"L",746,"D",902,"R",644,"U",913,"R",147,"D",649,"R",848,"D",673,"R",93,"U",65,"R",363,"U",734,"L",289,"U",599,"R",738,"U",45,"R",128,"D",508,"L",93,"D",201,"R",51,"U",239,"R",17,"D",496,"L",661,"D",912,"R",165,"U",291,"L",207,"D",308,"R",241,"D",388,"L",910,"D",821,"R",714,"D",327,"L",605,"U",880,"L",682,"D",934,"R",334,"D",1,"R",602,"D",54,"L",51,"D",913,"L",575,"U",168,"R",614,"D",603,"R",452,"U",718,"R",689,"D",505,"R",83,"D",385,"R",636,"D",692,"R",424,"D",573,"R",686,"D",572,"L",467,"D",698,"L",21,"U",510,"L",497,"U",329,"R",286,"U",733,"R",584,"U",919,"R",499,"U",971,"L",558,"U",511,"L",565,"D",623,"L",502,"U",536,"L",483,"U",372,"L",686,"D",420,"L",900,"U",316,"L",37,"U",372,"L",915,"D",641,"R",165,"D",927,"L",137,"U",231,"R",813,"U",416,"L",131,"D",530,"R",486,"U",795,"L",507,"U",757,"L",208,"U",308,"L",521,"U",583,"L",758,"U",654,"R",554,"D",467,"R",381,"U",155,"R",47,"U",829,"R",92,"D",158,"R",54,"D",500,"R",17,"D",471,"R",748,"U",571,"L",194,"D",55,"L",921,"U",271,"L",730,"U",207,"L",204,"U",806,"R",19,"D",33,"R",218,"D",911,"L",106,"U",220,"R",551,"U",308,"L",268,"U",5,"L",374,"U",657,"R",639,"U",705,"R",294,"U",962,"L",927,"U",892,"L",477,"U",290,"R",378,"D",193,"L",154,"U",859,"L",618,"D",690,"L",769,"D",779,"R",752,"D",915,"L",693,"D",586,"L",558,"D",864,"L",523,"U",354,"R",386,"U",236,"R",888,"U",302,"L",75,"U",628,"R",132,"D",306,"L",939,"U",73,"L",687,"D",488,"R",21,"D",760,"L",856,"U",96,"L",116,"U",557,"L",639,"U",812,"L",389,"D",364,"L",807,"U",696,"R",781,"D",625,"R",565,"U",728,"R",134,"D",406,"R",785,"U",583,"R",60,"D",819,"L",939]

print(len(wire1))
print(len(wire2))
x = 0
y = 0
for x in range(0, len(wire1), 2):

    if wire1[x] == "R":
        for r in range(wire1[x+1]):
            currX += 1
            steps += 1
            if (currX, currY) in ints:
                print("found", currX, currY)
                if ints[(currX,currY)] >= 2:
                    foundList1.append([currX, currY, steps])


    elif wire1[x] == "L":
        for r in range(wire1[x+1]):
            currX -= 1
            steps += 1
            if (currX, currY) in ints:
                if ints[(currX,currY)] >= 2:
                    foundList1.append([currX, currY, steps])


    elif wire1[x] == "U":
        for r in range(wire1[x+1]):
            currY += 1
            steps += 1
            if (currX, currY) in ints:
                if ints[(currX,currY)] >= 2:
                    foundList1.append([currX, currY, steps])


    elif wire1[x] == "D":
        for r in range(wire1[x+1]):
            currY -= 1
            steps += 1
            if (currX, currY) in ints:
                if ints[(currX,currY)] >= 2:
                    foundList1.append([currX, currY, steps])



currX = 0
currY = 0
steps = 0

for x in range(0, len(wire2), 2):

    if wire2[x] == "R":
        for r in range(wire2[x+1]):
            currX += 1
            steps += 1
            if (currX, currY) in ints:
                if ints[(currX,currY)] >= 2:
                    foundList2.append([currX, currY, steps])


    elif wire2[x] == "L":
        for r in range(wire2[x+1]):
            currX -= 1
            steps += 1
            if (currX, currY) in ints:
                if ints[(currX,currY)] >= 2:
                    foundList2.append([currX, currY, steps])


    elif wire2[x] == "U":
        for r in range(wire2[x+1]):
            currY += 1
            steps += 1
            if (currX, currY) in ints:
                if ints[(currX,currY)] >= 2:
                    foundList2.append([currX, currY, steps])


    elif wire2[x] == "D":
        for r in range(wire2[x+1]):
            currY -= 1
            steps += 1
            if (currX, currY) in ints:
                if ints[(currX,currY)] >= 2:
                    foundList2.append([currX, currY, steps])



length = 0
smallest = 9999999999

for x in range(len(foundList1)):
    for y in range(len(foundList2)):
        if foundList1[x][0] == foundList2[y][0] and foundList1[x][1] == foundList2[y][1]:
            length = foundList1[x][2] + foundList2[y][2]
            print(foundList1[x][0], foundList2[y][0], foundList1[x][1], foundList2[y][1], length)
            if length < smallest:
                smallest = length

print(smallest)
print(len(foundList1))
print(len(foundList2))
print(len(ints))
"""     449 - too low  
        3344 - too low
        14136 - too high
"""

